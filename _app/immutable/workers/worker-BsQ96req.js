(function(){"use strict";const _e=Symbol("Comlink.proxy"),ve=Symbol("Comlink.endpoint"),xe=Symbol("Comlink.releaseProxy"),ee=Symbol("Comlink.finalizer"),B=Symbol("Comlink.thrown"),ue=t=>typeof t=="object"&&t!==null||typeof t=="function",ke={canHandle:t=>ue(t)&&t[_e],serialize(t){const{port1:e,port2:n}=new MessageChannel;return te(t,e),[n,[n]]},deserialize(t){return t.start(),je(t)}},Ae={canHandle:t=>ue(t)&&B in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},fe=new Map([["proxy",ke],["throw",Ae]]);function Oe(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function te(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(i){if(!i||!i.data)return;if(!Oe(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:s,type:o,path:a}=Object.assign({path:[]},i.data),_=(i.data.argumentList||[]).map(M);let f;try{const l=a.slice(0,-1).reduce((d,z)=>d[z],t),b=a.reduce((d,z)=>d[z],t);switch(o){case"GET":f=b;break;case"SET":l[a.slice(-1)[0]]=M(i.data.value),f=!0;break;case"APPLY":f=b.apply(l,_);break;case"CONSTRUCT":{const d=new b(..._);f=ze(d)}break;case"ENDPOINT":{const{port1:d,port2:z}=new MessageChannel;te(t,z),f=Ie(d,[d])}break;case"RELEASE":f=void 0;break;default:return}}catch(l){f={value:l,[B]:0}}Promise.resolve(f).catch(l=>({value:l,[B]:0})).then(l=>{const[b,d]=J(l);e.postMessage(Object.assign(Object.assign({},b),{id:s}),d),o==="RELEASE"&&(e.removeEventListener("message",r),le(e),ee in t&&typeof t[ee]=="function"&&t[ee]())}).catch(l=>{const[b,d]=J({value:new TypeError("Unserializable return value"),[B]:0});e.postMessage(Object.assign(Object.assign({},b),{id:s}),d)})}),e.start&&e.start()}function Te(t){return t.constructor.name==="MessagePort"}function le(t){Te(t)&&t.close()}function je(t,e){const n=new Map;return t.addEventListener("message",function(i){const{data:s}=i;if(!s||!s.id)return;const o=n.get(s.id);if(o)try{o(s)}finally{n.delete(s.id)}}),ne(t,n,[],e)}function V(t){if(t)throw new Error("Proxy has been released and is not useable")}function ge(t){return P(t,new Map,{type:"RELEASE"}).then(()=>{le(t)})}const $=new WeakMap,H="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=($.get(t)||0)-1;$.set(t,e),e===0&&ge(t)});function Re(t,e){const n=($.get(e)||0)+1;$.set(e,n),H&&H.register(t,e,t)}function Me(t){H&&H.unregister(t)}function ne(t,e,n=[],r=function(){}){let i=!1;const s=new Proxy(r,{get(o,a){if(V(i),a===xe)return()=>{Me(s),ge(t),e.clear(),i=!0};if(a==="then"){if(n.length===0)return{then:()=>s};const _=P(t,e,{type:"GET",path:n.map(f=>f.toString())}).then(M);return _.then.bind(_)}return ne(t,e,[...n,a])},set(o,a,_){V(i);const[f,l]=J(_);return P(t,e,{type:"SET",path:[...n,a].map(b=>b.toString()),value:f},l).then(M)},apply(o,a,_){V(i);const f=n[n.length-1];if(f===ve)return P(t,e,{type:"ENDPOINT"}).then(M);if(f==="bind")return ne(t,e,n.slice(0,-1));const[l,b]=be(_);return P(t,e,{type:"APPLY",path:n.map(d=>d.toString()),argumentList:l},b).then(M)},construct(o,a){V(i);const[_,f]=be(a);return P(t,e,{type:"CONSTRUCT",path:n.map(l=>l.toString()),argumentList:_},f).then(M)}});return Re(s,t),s}function Fe(t){return Array.prototype.concat.apply([],t)}function be(t){const e=t.map(J);return[e.map(n=>n[0]),Fe(e.map(n=>n[1]))]}const de=new WeakMap;function Ie(t,e){return de.set(t,e),t}function ze(t){return Object.assign(t,{[_e]:!0})}function J(t){for(const[e,n]of fe)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},de.get(t)||[]]}function M(t){switch(t.type){case"HANDLER":return fe.get(t.name).deserialize(t.value);case"RAW":return t.value}}function P(t,e,n,r){return new Promise(i=>{const s=Pe();e.set(s,i),t.start&&t.start(),t.postMessage(Object.assign({id:s},n),r)})}function Pe(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const v=Symbol.for("@ts-pattern/matcher"),We=Symbol.for("@ts-pattern/isVariadic"),K="@ts-pattern/anonymous-select-key",re=t=>!!(t&&typeof t=="object"),q=t=>t&&!!t[v],p=(t,e,n)=>{if(q(t)){const r=t[v](),{matched:i,selections:s}=r.match(e);return i&&s&&Object.keys(s).forEach(o=>n(o,s[o])),i}if(re(t)){if(!re(e))return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;let r=[],i=[],s=[];for(const o of t.keys()){const a=t[o];q(a)&&a[We]?s.push(a):s.length?i.push(a):r.push(a)}if(s.length){if(s.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<r.length+i.length)return!1;const o=e.slice(0,r.length),a=i.length===0?[]:e.slice(-i.length),_=e.slice(r.length,i.length===0?1/0:-i.length);return r.every((f,l)=>p(f,o[l],n))&&i.every((f,l)=>p(f,a[l],n))&&(s.length===0||p(s[0],_,n))}return t.length===e.length&&t.every((o,a)=>p(o,e[a],n))}return Reflect.ownKeys(t).every(r=>{const i=t[r];return(r in e||q(s=i)&&s[v]().matcherType==="optional")&&p(i,e[r],n);var s})}return Object.is(e,t)},k=t=>{var e,n,r;return re(t)?q(t)?(e=(n=(r=t[v]()).getSelectionKeys)==null?void 0:n.call(r))!=null?e:[]:Array.isArray(t)?C(t,k):C(Object.values(t),k):[]},C=(t,e)=>t.reduce((n,r)=>n.concat(e(r)),[]);function h(t){return Object.assign(t,{optional:()=>Ce(t),and:e=>g(t,e),or:e=>Ne(t,e),select:e=>e===void 0?we(t):we(e,t)})}function Ce(t){return h({[v]:()=>({match:e=>{let n={};const r=(i,s)=>{n[i]=s};return e===void 0?(k(t).forEach(i=>r(i,void 0)),{matched:!0,selections:n}):{matched:p(t,e,r),selections:n}},getSelectionKeys:()=>k(t),matcherType:"optional"})})}function g(...t){return h({[v]:()=>({match:e=>{let n={};const r=(i,s)=>{n[i]=s};return{matched:t.every(i=>p(i,e,r)),selections:n}},getSelectionKeys:()=>C(t,k),matcherType:"and"})})}function Ne(...t){return h({[v]:()=>({match:e=>{let n={};const r=(i,s)=>{n[i]=s};return C(t,k).forEach(i=>r(i,void 0)),{matched:t.some(i=>p(i,e,r)),selections:n}},getSelectionKeys:()=>C(t,k),matcherType:"or"})})}function u(t){return{[v]:()=>({match:e=>({matched:!!t(e)})})}}function we(...t){const e=typeof t[0]=="string"?t[0]:void 0,n=t.length===2?t[1]:typeof t[0]=="string"?void 0:t[0];return h({[v]:()=>({match:r=>{let i={[e??K]:r};return{matched:n===void 0||p(n,r,(s,o)=>{i[s]=o}),selections:i}},getSelectionKeys:()=>[e??K].concat(n===void 0?[]:k(n))})})}function he(t){return!0}function m(t){return typeof t=="number"}function A(t){return typeof t=="string"}function O(t){return typeof t=="bigint"}h(u(he)),h(u(he));const T=t=>Object.assign(h(t),{startsWith:e=>{return T(g(t,(n=e,u(r=>A(r)&&r.startsWith(n)))));var n},endsWith:e=>{return T(g(t,(n=e,u(r=>A(r)&&r.endsWith(n)))));var n},minLength:e=>T(g(t,(n=>u(r=>A(r)&&r.length>=n))(e))),length:e=>T(g(t,(n=>u(r=>A(r)&&r.length===n))(e))),maxLength:e=>T(g(t,(n=>u(r=>A(r)&&r.length<=n))(e))),includes:e=>{return T(g(t,(n=e,u(r=>A(r)&&r.includes(n)))));var n},regex:e=>{return T(g(t,(n=e,u(r=>A(r)&&!!r.match(n)))));var n}});T(u(A));const S=t=>Object.assign(h(t),{between:(e,n)=>S(g(t,((r,i)=>u(s=>m(s)&&r<=s&&i>=s))(e,n))),lt:e=>S(g(t,(n=>u(r=>m(r)&&r<n))(e))),gt:e=>S(g(t,(n=>u(r=>m(r)&&r>n))(e))),lte:e=>S(g(t,(n=>u(r=>m(r)&&r<=n))(e))),gte:e=>S(g(t,(n=>u(r=>m(r)&&r>=n))(e))),int:()=>S(g(t,u(e=>m(e)&&Number.isInteger(e)))),finite:()=>S(g(t,u(e=>m(e)&&Number.isFinite(e)))),positive:()=>S(g(t,u(e=>m(e)&&e>0))),negative:()=>S(g(t,u(e=>m(e)&&e<0)))});S(u(m));const j=t=>Object.assign(h(t),{between:(e,n)=>j(g(t,((r,i)=>u(s=>O(s)&&r<=s&&i>=s))(e,n))),lt:e=>j(g(t,(n=>u(r=>O(r)&&r<n))(e))),gt:e=>j(g(t,(n=>u(r=>O(r)&&r>n))(e))),lte:e=>j(g(t,(n=>u(r=>O(r)&&r<=n))(e))),gte:e=>j(g(t,(n=>u(r=>O(r)&&r>=n))(e))),positive:()=>j(g(t,u(e=>O(e)&&e>0))),negative:()=>j(g(t,u(e=>O(e)&&e<0)))});j(u(O)),h(u(function(t){return typeof t=="boolean"})),h(u(function(t){return typeof t=="symbol"})),h(u(function(t){return t==null})),h(u(function(t){return t!=null}));class Le extends Error{constructor(e){let n;try{n=JSON.stringify(e)}catch{n=e}super(`Pattern matching error: no pattern matches value ${n}`),this.input=void 0,this.input=e}}const ie={matched:!1,value:void 0};function G(t){return new Y(t,ie)}class Y{constructor(e,n){this.input=void 0,this.state=void 0,this.input=e,this.state=n}with(...e){if(this.state.matched)return this;const n=e[e.length-1],r=[e[0]];let i;e.length===3&&typeof e[1]=="function"?i=e[1]:e.length>2&&r.push(...e.slice(1,e.length-1));let s=!1,o={};const a=(f,l)=>{s=!0,o[f]=l},_=!r.some(f=>p(f,this.input,a))||i&&!i(this.input)?ie:{matched:!0,value:n(s?K in o?o[K]:o:this.input,this.input)};return new Y(this.input,_)}when(e,n){if(this.state.matched)return this;const r=!!e(this.input);return new Y(this.input,r?{matched:!0,value:n(this.input,this.input)}:ie)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(e=Ue){return this.state.matched?this.state.value:e(this.input)}run(){return this.exhaustive()}returnType(){return this}narrow(){return this}}function Ue(t){throw new Le(t)}class X{character_id;card_id;team_id;internal_id;constructor(e,n,r,i){this.character_id=e,this.card_id=n,this.team_id=r,this.internal_id=i}static parse(e){let[n,r,i,s]=e.split("/",4);return new X(parseInt(n),parseInt(r),parseInt(i),s)}static make_str(e,n,r,i){return new X(e,n,r,i).toString()}toString(){return`${this.character_id}/${this.card_id}/${this.team_id}/${this.internal_id}`}}function De(t,e){let n=new Map,r=[];for(const i of e){let s={time:i.time,dt:i.dt,idx:i.idx,entities:new Map};for(const[o,a]of i.entities){n.has(o)||n.set(o,{active_skills:new Map,active_conditions:new Set,corner:void 0,straight:void 0,id:X.parse(a.racer.external_id)});let _=n.get(o);for(const f of a.events)G(f).with({kind:"PositionEvent"},l=>{G(l.data).with({kind:"StartCorner"},b=>{_.corner=t.corners[b.data]}).with({kind:"EndCorner"},()=>_.corner=void 0).with({kind:"StartStraight"},b=>{_.straight=t.straights[b.data]}).with({kind:"EndStraight"},()=>_.straight=void 0).otherwise(()=>{})}).with({kind:"ConditionEvent"},l=>{G(l.data).with({kind:"Add"},b=>_.active_conditions.add(b.data)).with({kind:"Remove"},b=>_.active_conditions.delete(b.data)).exhaustive()}).with({kind:"SkillEvent"},l=>{G(l.data).with({kind:"Activated"},b=>{let d=b.data[0],z=b.data[1].map(Ee=>({uma:Ee[0],effect:Ee[1]}));_.active_skills.set(d,{name:d,targets:z})}).with({kind:"Finished"},b=>{_.active_skills.delete(b.data[0])}).exhaustive()}).otherwise(()=>{});s.entities.set(o,Object.assign(a,structuredClone(_)))}r.push(s)}return r}let c;function W(t){const e=c.__externref_table_alloc();return c.__wbindgen_externrefs.set(e,t),e}const ye=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>t.dtor(t.a,t.b));function se(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let s="[";i>0&&(s+=se(t[0]));for(let o=1;o<i;o++)s+=", "+se(t[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n&&n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}function Be(t,e){t=t>>>0;const n=y(),r=[];for(let i=t;i<t+4*e;i+=4)r.push(c.__wbindgen_externrefs.get(n.getUint32(i,!0)));return c.__externref_drop_slice(t,e),r}function pe(t,e){return t=t>>>0,L().subarray(t/1,t/1+e)}let F=null;function y(){return(F===null||F.buffer.detached===!0||F.buffer.detached===void 0&&F.buffer!==c.memory.buffer)&&(F=new DataView(c.memory.buffer)),F}function w(t,e){return t=t>>>0,Je(t,e)}let N=null;function L(){return(N===null||N.byteLength===0)&&(N=new Uint8Array(c.memory.buffer)),N}function x(t,e){try{return t.apply(this,e)}catch(n){const r=W(n);c.__wbindgen_exn_store(r)}}function E(t){return t==null}function Ve(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},s=(...o)=>{i.cnt++;const a=i.a;i.a=0;try{return r(a,i.b,...o)}finally{i.a=a,s._wbg_cb_unref()}};return s._wbg_cb_unref=()=>{--i.cnt===0&&(i.dtor(i.a,i.b),i.a=0,ye.unregister(i))},ye.register(s,i,i),s}function $e(t,e){const n=e(t.length*4,4)>>>0;for(let r=0;r<t.length;r++){const i=W(t[r]);y().setUint32(n+4*r,i,!0)}return R=t.length,n}function Q(t,e,n){if(n===void 0){const a=U.encode(t),_=e(a.length,1)>>>0;return L().subarray(_,_+a.length).set(a),R=a.length,_}let r=t.length,i=e(r,1)>>>0;const s=L();let o=0;for(;o<r;o++){const a=t.charCodeAt(o);if(a>127)break;s[i+o]=a}if(o!==r){o!==0&&(t=t.slice(o)),i=n(i,r,r=o+t.length*3,1)>>>0;const a=L().subarray(i+o,i+r),_=U.encodeInto(t,a);o+=_.written,i=n(i,r,o,1)>>>0}return R=o,i}let Z=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Z.decode();const He=2146435072;let oe=0;function Je(t,e){return oe+=e,oe>=He&&(Z=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),Z.decode(),oe=e),Z.decode(L().subarray(t,t+e))}const U=new TextEncoder;"encodeInto"in U||(U.encodeInto=function(t,e){const n=U.encode(t);return e.set(n),{read:t.length,written:n.length}});let R=0;function Ke(t,e){c.wasm_bindgen_ccf69254ab66d617___convert__closures_____invoke______(t,e)}const me=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>c.__wbg_jsumadatasource_free(t>>>0,1)),ce=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>c.__wbg_scenariorunner_free(t>>>0,1));class ae{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,me.unregister(this),e}free(){const e=this.__destroy_into_raw();c.__wbg_jsumadatasource_free(e,0)}get_course(e){return c.jsumadatasource_get_course(this.__wbg_ptr,e)}parse_skill(e){return c.jsumadatasource_parse_skill(this.__wbg_ptr,e)}constructor(){const e=c.jsumadatasource_new();return this.__wbg_ptr=e>>>0,me.register(this,this.__wbg_ptr,this),this}get_text(e,n){let r,i;try{const s=c.jsumadatasource_get_text(this.__wbg_ptr,e,n);return r=s[0],i=s[1],w(s[0],s[1])}finally{c.__wbindgen_free(r,i,1)}}load_all(e){return c.jsumadatasource_load_all(this.__wbg_ptr,e)}load_one(e,n){return c.jsumadatasource_load_one(this.__wbg_ptr,e,n)}}Symbol.dispose&&(ae.prototype[Symbol.dispose]=ae.prototype.free);class I{static __wrap(e){e=e>>>0;const n=Object.create(I.prototype);return n.__wbg_ptr=e,ce.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ce.unregister(this),e}free(){const e=this.__destroy_into_raw();c.__wbg_scenariorunner_free(e,0)}get_course(e){return c.scenariorunner_get_course(this.__wbg_ptr,e)}snapshot_callback(e){const n=this.__destroy_into_raw(),r=c.scenariorunner_snapshot_callback(n,e);return I.__wrap(r)}constructor(){const e=c.scenariorunner_new();return this.__wbg_ptr=e>>>0,ce.register(this,this.__wbg_ptr,this),this}run(e){const n=this.__destroy_into_raw();c.scenariorunner_run(n,e)}with_seed(e){const n=this.__destroy_into_raw(),r=c.scenariorunner_with_seed(n,e);return I.__wrap(r)}}Symbol.dispose&&(I.prototype[Symbol.dispose]=I.prototype.free);function qe(t){const e=Q(t,c.__wbindgen_malloc,c.__wbindgen_realloc),n=R,r=c.deserialize_snapshot_list(e,n);var i=Be(r[0],r[1]).slice();return c.__wbindgen_free(r[0],r[1]*4,4),i}function Ge(t){let e,n;try{const r=$e(t,c.__wbindgen_malloc),i=R,s=c.serialize_snapshot_list(r,i);return e=s[0],n=s[1],w(s[0],s[1])}finally{c.__wbindgen_free(e,n,1)}}const Ye=new Set(["basic","cors","default"]);async function Xe(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.ok&&Ye.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Qe(){const t={};return t.wbg={},t.wbg.__wbg_Error_52673b7de5a0ca89=function(e,n){return Error(w(e,n))},t.wbg.__wbg_Number_2d1dcfcf4ec51736=function(e){return Number(e)},t.wbg.__wbg_String_8f0eb39a4a4c2f66=function(e,n){const r=String(n),i=Q(r,c.__wbindgen_malloc,c.__wbindgen_realloc),s=R;y().setInt32(e+4,s,!0),y().setInt32(e+0,i,!0)},t.wbg.__wbg___wbindgen_bigint_get_as_i64_6e32f5e6aff02e1d=function(e,n){const r=n,i=typeof r=="bigint"?r:void 0;y().setBigInt64(e+8,E(i)?BigInt(0):i,!0),y().setInt32(e+0,!E(i),!0)},t.wbg.__wbg___wbindgen_boolean_get_dea25b33882b895b=function(e){const n=e,r=typeof n=="boolean"?n:void 0;return E(r)?16777215:r?1:0},t.wbg.__wbg___wbindgen_debug_string_adfb662ae34724b6=function(e,n){const r=se(n),i=Q(r,c.__wbindgen_malloc,c.__wbindgen_realloc),s=R;y().setInt32(e+4,s,!0),y().setInt32(e+0,i,!0)},t.wbg.__wbg___wbindgen_in_0d3e1e8f0c669317=function(e,n){return e in n},t.wbg.__wbg___wbindgen_is_bigint_0e1a2e3f55cfae27=function(e){return typeof e=="bigint"},t.wbg.__wbg___wbindgen_is_function_8d400b8b1af978cd=function(e){return typeof e=="function"},t.wbg.__wbg___wbindgen_is_object_ce774f3490692386=function(e){const n=e;return typeof n=="object"&&n!==null},t.wbg.__wbg___wbindgen_is_string_704ef9c8fc131030=function(e){return typeof e=="string"},t.wbg.__wbg___wbindgen_is_undefined_f6b95eab589e0269=function(e){return e===void 0},t.wbg.__wbg___wbindgen_jsval_eq_b6101cc9cef1fe36=function(e,n){return e===n},t.wbg.__wbg___wbindgen_jsval_loose_eq_766057600fdd1b0d=function(e,n){return e==n},t.wbg.__wbg___wbindgen_number_get_9619185a74197f95=function(e,n){const r=n,i=typeof r=="number"?r:void 0;y().setFloat64(e+8,E(i)?0:i,!0),y().setInt32(e+0,!E(i),!0)},t.wbg.__wbg___wbindgen_string_get_a2a31e16edf96e42=function(e,n){const r=n,i=typeof r=="string"?r:void 0;var s=E(i)?0:Q(i,c.__wbindgen_malloc,c.__wbindgen_realloc),o=R;y().setInt32(e+4,o,!0),y().setInt32(e+0,s,!0)},t.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,n){throw new Error(w(e,n))},t.wbg.__wbg__wbg_cb_unref_87dfb5aaa0cbcea7=function(e){e._wbg_cb_unref()},t.wbg.__wbg_call_3020136f7a2d6e44=function(){return x(function(e,n,r){return e.call(n,r)},arguments)},t.wbg.__wbg_call_abb4ff46ce38be40=function(){return x(function(e,n){return e.call(n)},arguments)},t.wbg.__wbg_done_62ea16af4ce34b24=function(e){return e.done},t.wbg.__wbg_entries_83c79938054e065f=function(e){return Object.entries(e)},t.wbg.__wbg_getRandomValues_1c61fac11405ffdc=function(){return x(function(e,n){globalThis.crypto.getRandomValues(pe(e,n))},arguments)},t.wbg.__wbg_get_6b7bd52aca3f9671=function(e,n){return e[n>>>0]},t.wbg.__wbg_get_af9dab7e9603ea93=function(){return x(function(e,n){return Reflect.get(e,n)},arguments)},t.wbg.__wbg_get_with_ref_key_1dc361bd10053bfe=function(e,n){return e[n]},t.wbg.__wbg_instanceof_ArrayBuffer_f3320d2419cd0355=function(e){let n;try{n=e instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_instanceof_Map_084be8da74364158=function(e){let n;try{n=e instanceof Map}catch{n=!1}return n},t.wbg.__wbg_instanceof_Uint8Array_da54ccc9d3e09434=function(e){let n;try{n=e instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_instanceof_Window_b5cf7783caa68180=function(e){let n;try{n=e instanceof Window}catch{n=!1}return n},t.wbg.__wbg_isArray_51fd9e6422c0a395=function(e){return Array.isArray(e)},t.wbg.__wbg_isSafeInteger_ae7d3f054d55fa16=function(e){return Number.isSafeInteger(e)},t.wbg.__wbg_iterator_27b7c8b35ab3e86b=function(){return Symbol.iterator},t.wbg.__wbg_length_22ac23eaec9d8053=function(e){return e.length},t.wbg.__wbg_length_d45040a40c570362=function(e){return e.length},t.wbg.__wbg_log_0cc1b7768397bcfe=function(e,n,r,i,s,o,a,_){let f,l;try{f=e,l=n,console.log(w(e,n),w(r,i),w(s,o),w(a,_))}finally{c.__wbindgen_free(f,l,1)}},t.wbg.__wbg_log_cb9e190acc5753fb=function(e,n){let r,i;try{r=e,i=n,console.log(w(e,n))}finally{c.__wbindgen_free(r,i,1)}},t.wbg.__wbg_mark_7438147ce31e9d4b=function(e,n){performance.mark(w(e,n))},t.wbg.__wbg_measure_fb7825c11612c823=function(){return x(function(e,n,r,i){let s,o,a,_;try{s=e,o=n,a=r,_=i,performance.measure(w(e,n),w(r,i))}finally{c.__wbindgen_free(s,o,1),c.__wbindgen_free(a,_,1)}},arguments)},t.wbg.__wbg_new_1ba21ce319a06297=function(){return new Object},t.wbg.__wbg_new_25f239778d6112b9=function(){return new Array},t.wbg.__wbg_new_6421f6084cc5bc5a=function(e){return new Uint8Array(e)},t.wbg.__wbg_new_b546ae120718850e=function(){return new Map},t.wbg.__wbg_new_no_args_cb138f77cf6151ee=function(e,n){return new Function(w(e,n))},t.wbg.__wbg_next_138a17bbf04e926c=function(e){return e.next},t.wbg.__wbg_next_3cfe5c0fe2a4cc53=function(){return x(function(e){return e.next()},arguments)},t.wbg.__wbg_now_2c95c9de01293173=function(e){return e.now()},t.wbg.__wbg_parse_a09a54cf72639456=function(){return x(function(e,n){return JSON.parse(w(e,n))},arguments)},t.wbg.__wbg_performance_7a3ffd0b17f663ad=function(e){return e.performance},t.wbg.__wbg_prototypesetcall_dfe9b766cdc1f1fd=function(e,n,r){Uint8Array.prototype.set.call(pe(e,n),r)},t.wbg.__wbg_setTimeout_06477c23d31efef1=function(){return x(function(e,n,r){return e.setTimeout(n,r)},arguments)},t.wbg.__wbg_set_3f1d0b984ed272ed=function(e,n,r){e[n]=r},t.wbg.__wbg_set_7df433eea03a5c14=function(e,n,r){e[n>>>0]=r},t.wbg.__wbg_set_efaaf145b9377369=function(e,n,r){return e.set(n,r)},t.wbg.__wbg_static_accessor_GLOBAL_769e6b65d6557335=function(){const e=typeof global>"u"?null:global;return E(e)?0:W(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_60cf02db4de8e1c1=function(){const e=typeof globalThis>"u"?null:globalThis;return E(e)?0:W(e)},t.wbg.__wbg_static_accessor_SELF_08f5a74c69739274=function(){const e=typeof self>"u"?null:self;return E(e)?0:W(e)},t.wbg.__wbg_static_accessor_WINDOW_a8924b26aa92d024=function(){const e=typeof window>"u"?null:window;return E(e)?0:W(e)},t.wbg.__wbg_stringify_655a6390e1f5eb6b=function(){return x(function(e){return JSON.stringify(e)},arguments)},t.wbg.__wbg_value_57b7b035e117f7ee=function(e){return e.value},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,n){return w(e,n)},t.wbg.__wbindgen_cast_4625c577ab2ec9ee=function(e){return BigInt.asUintN(64,e)},t.wbg.__wbindgen_cast_674ebd087622ef8d=function(e,n){return Ve(e,n,c.wasm_bindgen_ccf69254ab66d617___closure__destroy___dyn_core_dc610b18e7c172ef___ops__function__FnMut_____Output_______,Ke)},t.wbg.__wbindgen_cast_9ae0607507abb057=function(e){return e},t.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},t.wbg.__wbindgen_init_externref_table=function(){const e=c.__wbindgen_externrefs,n=e.grow(4);e.set(0,void 0),e.set(n+0,void 0),e.set(n+1,null),e.set(n+2,!0),e.set(n+3,!1)},t}function Ze(t,e){return c=t.exports,Se.__wbindgen_wasm_module=e,F=null,N=null,c.__wbindgen_start(),c}async function Se(t){if(c!==void 0)return c;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL(""+new URL("assets/runner_bg-C44TQnOz.wasm",self.location.href).href,self.location.href));const e=Qe();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await Xe(await t,e);return Ze(n,r)}let D;const et=async()=>{await Se(),D=new ae},tt=(t,e)=>D.get_text(t,e),nt=t=>D.get_course(t),rt=t=>D.load_all(t).Ok,it=(t,e)=>D.load_one(t,e).Ok,st=t=>qe(t);function ot(t,e){function n(o){this.push(o),console.log(`worker>scenario-run: #${this.length} frames received`)}let r=[],i=new I,s=i.get_course(t);return console.log(JSON.stringify(t,null,4)),i=i.snapshot_callback(n.bind(r)),i=i.with_seed(e),i.run(t),{course:s,raw_frames:Ge(r),frames:De(s,r),scenario:t}}var ct=Object.freeze({__proto__:null,deserialize_snapshot_list:st,get_course:nt,get_text:tt,init_wasm:et,load_all:rt,load_one:it,run_scenario:ot});te(ct)})();
