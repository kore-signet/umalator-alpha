import{Q as A,V as M,F as j,a0 as l}from"./C6rPX6h7.js";const E=()=>performance.now(),p={tick:t=>requestAnimationFrame(t),now:()=>E(),tasks:new Set};function S(){const t=p.now();p.tasks.forEach(r=>{r.c(t)||(p.tasks.delete(r),r.f())}),p.tasks.size!==0&&p.tick(S)}function O(t){let r;return p.tasks.size===0&&p.tick(S),{promise:new Promise(c=>{p.tasks.add(r={c:t,f:c})}),abort(){p.tasks.delete(r)}}}function P(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const r=t.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(c=>c[0].toUpperCase()+c.slice(1)).join("")}function R(t){const r={},c=t.split(";");for(const o of c){const[u,a]=o.split(":");if(!u||a===void 0)break;const f=P(u.trim());r[f]=a.trim()}return r}const Q=t=>t;let q=null;function U(t){q=t}function V(t,r,c){var o=q??A,u=o.nodes,a,f,v,s=null;u.a??={element:t,measure(){a=this.element.getBoundingClientRect()},apply(){if(v?.abort(),f=this.element.getBoundingClientRect(),a.left!==f.left||a.right!==f.right||a.top!==f.top||a.bottom!==f.bottom){const i=r()(this.element,{from:a,to:f},c?.());v=z(this.element,i,void 0,1,()=>{v?.abort(),v=void 0})}},fix(){if(!t.getAnimations().length){var{position:i,width:h,height:g}=getComputedStyle(t);if(i!=="absolute"&&i!=="fixed"){var e=t.style;s={position:e.position,width:e.width,height:e.height,transform:e.transform},e.position="absolute",e.width=h,e.height=g;var d=t.getBoundingClientRect();if(a.left!==d.left||a.top!==d.top){var n=`translate(${a.left-d.left}px, ${a.top-d.top}px)`;e.transform=e.transform?`${e.transform} ${n}`:n}}}},unfix(){if(s){var i=t.style;i.position=s.position,i.width=s.width,i.height=s.height,i.transform=s.transform}}},u.a.element=t}function z(t,r,c,o,u){if(M(r)){var a,f=!1;return j(()=>{if(!f){var m=r({direction:"in"});a=z(t,m,c,o,u)}}),{abort:()=>{f=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(!r?.duration)return u(),{abort:l,deactivate:l,reset:l,t:()=>o};const{delay:v=0,css:s,tick:i,easing:h=Q}=r;var g=[];if(i&&i(0,1),s){var e=R(s(0,1));g.push(e,e)}var d=()=>1-o,n=t.animate(g,{duration:v,fill:"forwards"});return n.onfinish=()=>{n.cancel();var m=1-o,_=o-m,k=r.duration*Math.abs(_),x=[];if(k>0){var C=!1;if(s)for(var $=Math.ceil(k/16.666666666666668),b=0;b<=$;b+=1){var B=m+_*h(b/$),F=R(s(B,1-B));x.push(F),C||=F.overflow==="hidden"}C&&(t.style.overflow="hidden"),d=()=>{var w=n.currentTime;return m+_*h(w/k)},i&&O(()=>{if(n.playState!=="running")return!1;var w=d();return i(w,1-w),!0})}n=t.animate(x,{duration:k,fill:"forwards"}),n.onfinish=()=>{d=()=>o,i?.(o,1-o),u()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=l)},deactivate:()=>{u=l},reset:()=>{},t:()=>d()}}export{V as a,U as s};
